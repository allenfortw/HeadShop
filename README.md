# 🛒 HeadShop Plugin

一個簡單易用的 Minecraft 插件，讓玩家可以使用遊戲內貨幣購買其他玩家的頭顱！

## ✨ 功能特色

- 💰 **Vault 經濟系統整合** - 使用伺服器的經濟系統進行交易
- 🎭 **玩家頭顱購買** - 購買任何玩家的頭顱作為裝飾
- 🔧 **靈活配置** - 可自定義價格和默認數量
- 🛡️ **權限系統** - 完整的權限控制
- 📦 **批量購買** - 一次購買多個頭顱
- 📋 **購買紀錄** - 查看個人購買歷史記錄
- 💬 **友好提示** - 清晰的中文提示訊息

## 📋 系統需求

- ✅ **Minecraft 版本**: 1.13+
- ✅ **依賴插件**: [Vault](https://www.spigotmc.org/resources/vault.34315/)
- ✅ **經濟插件**: EssentialsX, CMI 等支援 Vault 的經濟插件

## 📦 安裝方法

1. 確保您的伺服器已安裝 **Vault** 和任一經濟插件
2. 下載 `HeadShop.jar` 檔案
3. 將檔案放入伺服器的 `plugins` 資料夾
4. 重啟伺服器
5. 🎉 完成！

## ⚙️ 配置檔案

### config.yml
```yaml
permissions: "headshop.buy"  # 使用插件所需的權限
default:
  total: '1'                 # 默認購買數量
  price: '200'              # 每個頭顱的價格
```

## 🎮 指令說明

### 主要指令

#### 💰 購買頭顱
```
/headshop <玩家名稱> [數量]
```

**📝 指令範例：**
- `/headshop Steve` - 購買 1 個 Steve 的頭顱
- `/headshop Alex 5` - 購買 5 個 Alex 的頭顱
- `/headshop Notch 10` - 購買 10 個 Notch 的頭顱

#### 📋 查看購買紀錄
```
/headshop logs [頁數]
```

**📝 指令範例：**
- `/headshop logs` - 查看第 1 頁的購買紀錄
- `/headshop logs 2` - 查看第 2 頁的購買紀錄
- `/headshop logs 5` - 查看第 5 頁的購買紀錄

#### 📊 指令參數說明：

| 指令 | 參數 | 類型 | 必填 | 說明 |
|------|------|------|------|------|
| `/headshop` | `<玩家名稱>` | 字串 | ✅ | 要購買頭顱的玩家名稱 |
| `/headshop` | `[數量]` | 整數 | ❌ | 購買數量（1-64，默認為配置中的數量） |
| `/headshop logs` | `[頁數]` | 整數 | ❌ | 查看指定頁數的紀錄（默認為第 1 頁） |

## 🔐 權限設定

### 權限節點
| 權限 | 默認 | 說明 |
|------|------|------|
| `headshop.buy` | true | 允許玩家購買頭顱 |
| `headshop.logs` | true | 允許玩家查看購買紀錄 |

### 設定範例（LuckPerms）
```
/lp group default permission set headshop.buy true
/lp group default permission set headshop.logs true
/lp user <玩家名稱> permission set headshop.buy true
/lp user <玩家名稱> permission set headshop.logs true
```

> **💡 提示**: 查看購買紀錄功能使用 `/headshop logs` 指令

## 📋 購買紀錄系統

### 📊 紀錄格式
每筆購買紀錄包含以下資訊：
- **玩家名稱** - 購買的頭顱所屬玩家
- **時間** - 購買的時間戳記
- **數量** - 購買的頭顱數量
- **價格** - 此次購買的總金額

### 📄 分頁顯示
- 每頁顯示 **7 筆**購買紀錄
- 最新的紀錄排在最前面
- 超過 7 筆紀錄需要翻頁查看
- 範例：如果有 8 筆紀錄，前 7 筆為第 1 頁，第 8 筆在第 2 頁
- 自動顯示翻頁導航，無需手動查找指令

### 💾 資料儲存
- 購買紀錄儲存在 `plugins/HeadShop/logs/` 資料夾
- 每個玩家的紀錄以 UUID 為檔名儲存
- 格式：`玩家名稱|時間|數量|價格`

## 🚫 限制說明

- 💰 **餘額檢查**: 購買前會檢查玩家餘額是否足夠
- 👤 **玩家驗證**: 只能購買存在的玩家頭顱
- 📦 **背包空間**: 需要有空的背包格子
- 🔢 **數量限制**: 單次購買數量限制為 1-64 個
- 🛡️ **權限檢查**: 需要相應權限才能使用
- 📋 **紀錄權限**: 需要 `headshop.logs` 權限才能查看購買紀錄

## 💡 使用技巧

1. **💰 經濟管理**: 建議根據伺服器經濟平衡調整頭顱價格
2. **🎨 裝飾用途**: 玩家頭顱可用於建築裝飾和收藏
3. **👥 社群互動**: 促進玩家間的互動和交易
4. **📊 紀錄追蹤**: 利用購買紀錄功能追蹤玩家的消費習慣

## 🔧 故障排除

### 常見問題

**Q: 插件無法載入？**
- A: 請確保已正確安裝 Vault 插件和經濟插件

**Q: 無法購買頭顱？**
- A: 檢查玩家權限、餘額和背包空間

**Q: 找不到指定玩家？**
- A: 確保玩家名稱正確且該玩家曾經加入過伺服器

**Q: 無法查看購買紀錄？**
- A: 檢查是否有 `headshop.logs` 權限，並使用 `/headshop logs` 指令

**Q: 購買紀錄顯示異常？**
- A: 檢查 `plugins/HeadShop/logs/` 資料夾是否存在且有寫入權限

## 🚧 開發計劃

- [x] 📋 購買歷史記錄
- [ ] 🌍 多語言支援
- [ ] 📈 統計功能
- [ ] 🎯 頭顱收藏成就系統

## ⚠️ 重要提醒

> **🌍 語言設定**: *目前無法設定語言，敬請期待...*

> **💾 資料備份**: *建議定期備份 `plugins/HeadShop/logs/` 資料夾中的購買紀錄*

## 📄 授權條款

本專案採用 MIT 授權條款 - 詳見 [LICENSE](LICENSE) 檔案

## 👨‍💻 開發者

**作者**: AllenPixel, Allen

## 📝 更新日誌

### v1.0.0
- ✅ 基本購買功能
- ✅ Vault 經濟系統整合
- ✅ 權限系統
- ✅ 購買紀錄功能（每頁 7 筆）

- ✅ 統一指令介面 (`/headshop` 和 `/headshop logs`)
